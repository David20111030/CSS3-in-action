<!DOCTYPE html>
<html>
<head>
   <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
   <title>七夕言情</title>
   <link rel="stylesheet" type="text/css" href="css/style.css">
   <link rel="stylesheet" type="text/css" href="css/pageA.css">
</head>
<body>
  <div id="content">
   	<ul class="content-wrap">
   	  <!-- 第一副画面 -->
   	  <li>
   	  	<div class="a_bkg">
   	      <div class="a_bkg_top"></div>
   	      <div class="a_bkg_middle"></div>
   	      <div class="a_bkg_botton"></div>
   	  	</div>
   	  </li>
   	  <!-- 第二副画面 -->
   	  <li>页面2</li>
   	  <!-- 第三副画面 -->
   	  <li>页面3</li>
   	 </ul>
   	 <!--与页面根节点并列-->
   	 <div id='boy' class="charector"></div>
   	 <div class="button">
        <button>开始</button>
        <button>暂停</button>
    </div>
   </div>
   <script src="./js/jquery.js"></script>
   <script type="text/javascript" src='./js/jquery.transit.js'></script>
   <script type="text/javascript" src='./js/common.js'></script>
   <script type="text/javascript">
   	 var swipe = Swipe($('#content'));

   	 // $('button').click(function(){
   	 // 	swipe.scrollTo($('#content').width()*2,5000);
   	 // })
   	 // 获取数据
   	 var getValue = function (className) {
   	 	var $elem = $(''+className+'');
   	 	//走路的路线坐标
   	 	return {
   	 		height: $elem.height(),
   	 		top: $elem.position().top
   	 	}
   	 }

   	 //路的Y轴
   	 var pathY = function () {
   	 	var data = getValue('.a_bkg_middle');
   	 	return data.top + data.height/2;
   	 }();

   	 var $boy = $('#boy');
   	 var boyHeight = $boy.height();

   	// 修正小男孩的正确位置
    // 路的中间位置减去小孩的高度，25是一个修正值
    $boy.css({
        top: pathY - boyHeight + 25
    });

    // ==========================
    //     增加精灵动画
    // ==========================
    
    // $('button').click(function(){
    //     // 增加走路的CSS3关键帧规则
    //     // $boy.addClass('slowWalk');
    //     //jQuery.transit插件实现
    //      // $boy.transition({'left': $('#content').width() +'px'},10000,'linear',function(){});
    //      //css实现
    //     $boy.css({
    //       'left': $('#content').width() + 'px',
    //       'transition': 'all 10s linear 0s'
    //     })
    // });
    // 开始
    $("button:first").click(function() {
        $boy.addClass('slowWalk').transition({
            'left': $("#content").width() + 'px',
        }, 10000);
    });

    // 暂停
    $("button:last").click(function() {
        var left = $boy.css('left');
        // 强制做了一个改变目标left的处理
        // 动画是要运行10秒,所以此时动画还是没有结束的
        $boy.css('left',left);
        // 增加暂停的样式
        $boy.addClass('pauseWalk');
    });
   </script>
</body>
</html>